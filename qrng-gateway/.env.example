# QRNG Gateway Environment Configuration
# Copy this file to .env and fill in your values

# ===== COMMON CONFIGURATION =====

# Deployment Mode
# Options: push_based, direct_access
QRNG_DEPLOYMENT_MODE=push_based

# Listen Address
# IP:Port to bind the HTTP server (default: 0.0.0.0:8080)
QRNG_LISTEN_ADDRESS=0.0.0.0:8080

# Buffer Configuration
# Buffer size in bytes (default: 10485760 = 10MB)
QRNG_BUFFER_SIZE=10485760

# Buffer TTL in seconds (0 = no TTL, default: 3600)
QRNG_BUFFER_TTL_SECS=3600

# API Keys (comma-separated)
# Generate with: openssl rand -base64 32
QRNG_API_KEYS=your-api-key-1,your-api-key-2

# Rate Limiting
# Requests per second per API key (default: 100)
QRNG_RATE_LIMIT_PER_SECOND=100

# MCP Server
# Enable Model Context Protocol server (default: true)
QRNG_MCP_ENABLED=true

# Metrics
# Enable Prometheus metrics endpoint (default: true)
QRNG_METRICS_ENABLED=true

# ===== PUSH-BASED MODE CONFIGURATION =====
# (Only used when QRNG_DEPLOYMENT_MODE=push_based)

# HMAC Secret Key (hex-encoded, 64 characters for 256-bit key)
# Generate with: openssl rand -hex 32
# MUST match the collector's HMAC_SECRET_KEY
QRNG_HMAC_SECRET_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# ===== DIRECT ACCESS MODE CONFIGURATION =====
# (Only used when QRNG_DEPLOYMENT_MODE=direct_access)

# QRNG Appliance URL for direct fetching
QRNG_DIRECT_APPLIANCE_URL=https://your-qrng-appliance.local/random

# Fetch chunk size (default: 1024)
QRNG_DIRECT_FETCH_CHUNK_SIZE=1024

# Fetch interval in seconds (default: 5)
QRNG_DIRECT_FETCH_INTERVAL_SECS=5

# ===== LOGGING =====

# Log level: trace, debug, info, warn, error (default: info)
LOG_LEVEL=info
