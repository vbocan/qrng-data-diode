# QRNG Collector Environment Configuration

# QRNG Appliance URL
# URL of the QRNG appliance to fetch entropy from
APPLIANCE_URL=https://random.cs.upt.ro

# Gateway Push URL
# URL of the QRNG Gateway push endpoint
# Use container name when both are in same Docker network
PUSH_URL=http://qrng-gateway:8080

# HMAC Secret Key (hex-encoded, 64 characters for 256-bit key)
# Generate with: openssl rand -hex 32
# MUST match the gateway's HMAC_SECRET_KEY
HMAC_SECRET_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# Fetch Configuration
# Bytes to fetch per request (appliance returns fixed 1798 bytes)
FETCH_CHUNK_SIZE=1798

# Fetch interval in milliseconds (100ms = 10 req/s for ~18KB/s)
# Appliance can handle ~130 req/s but use conservative rate
FETCH_INTERVAL_MS=100

# Internal buffer size in bytes (10MB for high-throughput operation)
BUFFER_SIZE=10485760

# Push Configuration
# Push interval in milliseconds (1000ms = 1s to match fetch rate)
# At 10 req/s fetch, pushes ~18KB/s to avoid buffer overflow
PUSH_INTERVAL_MS=1000

# Retry Configuration
# Maximum retry attempts (default: 5)
MAX_RETRIES=5

# Initial backoff in milliseconds (default: 100)
INITIAL_BACKOFF_MS=100

# Logging
# Log level: trace, debug, info, warn, error (default: info)
LOG_LEVEL=info
